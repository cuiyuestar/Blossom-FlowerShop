# Blossom-FlowerShop  鲜花店
这是一个专属于鲜花交易的网购平台，旨在提供便利快捷的鲜花采购方式，让顾客能够随时随地购买鲜花


# 更新日志

### 2025年3月22日
- 发布v0.10测试版

### 2025年4月4日 
- 发布v0.20测试版（重大更新）
  - ​**​1. 评论功能​**​
    - 支持对每种鲜花进行评论评分
    - 设置点赞功能（将来会更新"按点赞数排序"与"回复"功能）
    - 支持中等并发的评论查询，有缓存穿透保护的查询方法

  - ​**​2. 活动功能​**​
    - ​**​2.1 管理端​**​
      - 设置活动，设置活动促销商品
      - 责任链校验参数
      - 缓存预热
    - ​**​2.2 用户端​**​
      - 查看活动栏、查看活动详情、参与活动
      - 通过责任链处理：判断活动是否正在进行 + 判断是否超买 + 判断库存是否充足 + 库存回滚
      - 通过redisClient的缓存保护方法，实现中高并发环境下的数据查询
    - ​**​2.3 系统端​**​
      - 新增活动定时任务类
      - 每分钟确认一次是否有已结束的活动，如果有则进行逻辑关闭（将活动状态设置为"已结束"）
      - 每五分钟进行一次库存数据持久化，并通过乐观锁避免并发覆盖问题，乐观锁由版本号实现
      - 持久化之后，为了保证缓存一致性，需要将持久化成功的部分的缓存删除，让未命中时自动执行缓存重建

  - ​**​3. 责任链设计模式​**​
    - 通过责任链实现了大多数DTO参数的校验
    - 并发环境下，判断活动是否正在进行+判断是否超买+判断库存是否充足+库存回滚

  - ​**​4. redisClient类全面升级​**​
    - 缓存空值防缓存穿透+互斥锁减少缓存重建性能开销+逻辑过期防缓存击穿
    - 通过双重校验锁+限制重试次数提高了缓存重建的可靠性

  - ​**​5. 新增key构造工具​**

    
### 2025年4月14日
​- 发布v0.21测试版
  - ​**​1. 新增登录/注册功能​**
  - ​**​2. 新增修改个人信息/查看个人信息功能​**
  - ​​**​3. 新增查询活动详情功能​**
  - ​**​4. 优化了活动类接口、用户类接口、分类接口​**
  - **​5. 修复BaseContext无法解析token获取用户id的bug**


### 2025年4月15日
- 发布v0.22 正式版
  - ​**​1. 修复​了redis缓存数据格式bug**
  - ​**​2. 新增分类图片字段​**
  - ​​**​3. 接入云服务器数据库​**

   

  
